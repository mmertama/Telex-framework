@PACKAGE_INIT@

include("${CMAKE_CURRENT_LIST_DIR}/@GEMPYRE_TARGETS_EXPORT_NAME@Targets.cmake")
include(CMakeFindDependencyMacro)

#set(gempyre_SCRIPTS_DIR "@RESOURCE_SCRIPTS_DIR@")
#list(APPEND CMAKE_MODULE_PATH ${gempyre_SCRIPTS_DIR})
list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")

#add_library(Gempyre::Gempyre ALIAS Gempyre::gempyre)

#list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}")

if(NOT WIN32)
    find_dependency(uSockets)
endif()

if(WIN32)
    set(gempyre_LIBRARIES "@LIBRARY_FULL_DIR@/${THIS_LIB}")
    string(TOLOWER ${CMAKE_BUILD_TYPE} LOWER)
    if (${LOWER} STREQUAL debug)
        find_library(LIB_NAME NAMES gempyred PATHS "@LIBRARY_FULL_DIR@" NO_DEFAULT_PATH REQUIRED)
        message("Found debug library ${LIB_NAME}")
    else()
        find_library(LIB_NAME NAMES gempyre PATHS "@LIBRARY_FULL_DIR@" NO_DEFAULT_PATH REQUIRED)
        message("Found release library ${LIB_NAME}")
    endif()
else()
    set(gempyre_LIBRARIES "@LIBRARY_FULL_DIR@/${THIS_LIB};${uSockets_LIBRARY}")
    find_library(LIB_NAME NAMES gempyre PATHS "@LIBRARY_FULL_DIR@" NO_DEFAULT_PATH REQUIRED)
endif()

get_filename_component(THIS_LIB ${LIB_NAME} NAME)

set_and_check(gempyre_legacy_INCLUDE_DIR "@INCLUDE_FULL_DIR@")
set_and_check(gempyre_LIBRARY_DIR "@LIBRARY_FULL_DIR@")
set_and_check(gempyre_LIBRARY "@LIBRARY_FULL_DIR@/${THIS_LIB}")
set(ENV{gempyre_ROOT} "@PROJECT_CMAKE_DIR@")

set_target_properties(gempyre::gempyre PROPERTIES
    IMPORTED_LOCATION "${gempyre_LIBRARY}"
  )

check_required_components(@PROJECT_NAME@)

include_directories(${gempyre_legacy_INCLUDE_DIR})






